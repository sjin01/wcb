<fieldset class="solid">

    <input type="hidden" name="item.id" value="${(item.id)!}" />

    <div class="form-group">
        <label class="col-sm-3 control-label no-padding-right wcb-required"> 户主姓名 </label>
        <div class="col-sm-9">
            <input type="text" name="item.name" placeholder="请输入户主姓名" class="col-sm-5" value="${(item.name)!}" />
        </div>
    </div>

    <div class="form-group">
        <label class="col-sm-3 control-label no-padding-right wcb-required"> 联系电话 </label>
        <div class="col-sm-9">
            <input type="text" name="item.tel" placeholder="请输入联系电话" class="col-sm-5" value="${(item.tel)!}" />
        </div>
    </div>

    <div class="form-group">
        <label class="col-sm-3 control-label no-padding-right wcb-required"> 卡号 </label>
        <div class="col-sm-9">
            <input type="text" name="item.card" placeholder="请输入卡号" class="col-sm-5" value="${(item.card)!}" />
        </div>
    </div>

    <div class="form-group">
        <label class="col-sm-3 control-label no-padding-right"> 设备 </label>
        <div class="col-sm-9">
            <input type="text" name="item.equipmentId" placeholder="请选择设备" class="col-sm-5" value="${(item.equipmentId)!}" />
        </div>
    </div>

    <div class="form-group">
        <label class="col-sm-3 control-label no-padding-right"> 地区 </label>
        <div class="col-sm-9">
            <input type="hidden" id="hidden_province" name="item.province"/>
            <input type="hidden" id="hidden_province_name" name=""/>
            <input type="hidden" id="hidden_city" name="item.city"/>
            <input type="hidden" id="hidden_city_name" name=""/>
            <input type="hidden" id="hidden_area" name="item.area"/>
            <input type="text" id="provCityAreaStreet-choice" name="" placeholder="请选择" class="col-sm-5" value="" readonly="readonly" />
        </div>
    </div>

    <div class="form-group">
        <label class="col-sm-3 control-label no-padding-right"> 街道 </label>
        <div class="col-sm-9">
            <input type="text" name="item.street" placeholder="请选择街道" class="col-sm-5" value="${(item.street)!}" />
        </div>
    </div>

    <div class="form-group">
        <label class="col-sm-3 control-label no-padding-right"> 详细地址 </label>
        <div class="col-sm-9">
            <input type="text" name="item.addr" placeholder="" class="col-sm-5" value="${(item.addr)!}" />
        </div>
    </div>

    <div class="form-group">
        <label class="col-sm-3 control-label no-padding-right"> 小区 </label>
        <div class="col-sm-9">
            <input type="text" name="item.communityName" placeholder="" class="col-sm-3" value="${(item.communityName)!}" />
            <span class="col-sm-1">小区</span>
            <input type="text" name="item.ridgepole" placeholder="" class="col-sm-2" value="${(item.ridgepole)!}" />
            <span class="col-sm-1">栋</span>
            <input type="text" name="item.household" placeholder="" class="col-sm-2" value="${(item.household)!}" />
            <span class="col-sm-1">户</span>
        </div>
    </div>

    <div class="form-group">
        <label class="col-sm-3 control-label no-padding-right"> 备注 </label>
        <div class="col-sm-9">
            <input type="text" name="item.note" placeholder="" class="col-sm-5" value="${(item.note)!}" />
        </div>
    </div>

</fieldset>



<script>
    require(['base', 'sjin-choice-ganged'], function (Base, ChoiceGanged) {

        var choice = new ChoiceGanged({
            target: '#provCityAreaStreet-choice',
            width: 400,
            tabs: [
                // ** 配置tabs项的时候，请严格按照顺序来
                {
                    name: '省份',  // tab 显示的名字
                    // 必须实现这个 获取数据的 函数  且  return 一个包含数组的对象， 对象中定义 id 和name 对应的属性名
                    getItems: function (obj) {
                        $.ajax({
                            url:"${base}/common/getProv" ,
                            // data: {id:id},
                            type: 'POST',
                            dataType:'JSON',
                            success:function( result ){
                                if(result.code == 200){
                                    choice.setCurData({
                                        showField: 'name',
                                        data: result.data
                                    });
                                }
                            }
                        });
                    },
                    callback: function (obj) {
                        $('#hidden_province').val(obj.code);
                        $('#hidden_province_name').val(obj.name);

                    }
                },
                {
                    name: '城市',
                    getItems: function (obj) {
                        $.ajax({
                            url:"${base}/common/getCity/" + obj.code ,
                            type: 'POST',
                            dataType:'JSON',
                            success:function( result ){
                                if(result.code == 200){
                                    choice.setCurData({
                                        showField: 'name',
                                        data: result.data
                                    });
                                }
                            }
                        });
                    },
                    callback: function (obj) {
                        $('#hidden_city').val(obj.code);
                        $('#hidden_city_name').val(obj.name);
                    }
                },
                {
                    name: '区县',
                    getItems: function (obj) {
                        $.ajax({
                            url:"${base}/common/getArea/" + obj.code ,
                            type: 'POST',
                            dataType:'JSON',
                            success:function( result ){
                                if(result.code == 200){
                                    choice.setCurData({
                                        showField: 'name',
                                        data: result.data
                                    });
                                }
                            }
                        });
                    },
                    callback: function (obj) {
                        $('#hidden_area').val(obj.code);
                        var provName = $('#hidden_province_name').val();
                        var cityName = $('#hidden_city_name').val();
                        $('#provCityAreaStreet-choice').val(provName + ' ' + cityName + ' ' + obj.name);
                        choice.close();
                    }
                }
            ]
        });
    });
</script>